<div class="col-xs-12">
	<form id="carPortForm">
		<div class="row">
			<div class="col-xs-12 form-xs form-group row">
				<div class="col-xs-6">
					<label class="col-xs-4 control-label">添加方式：</label>
					<div class="col-xs-8">
						<div class="radio-inline input-xs">
						    <label>
						      <input name="addWays" type="radio" class="addWays ace" checked="checked" value="1">
						      <span class="lbl"> 单个添加</span>
						    </label>
					    </div>
					    <div class="radio-inline input-xs" class="addWays" value="2">
						    <label>
						      <input name="addWays" type="radio" class="addWays ace" value="2">
						      <span class="lbl"> 批量添加</span>
						    </label>
					    </div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 form-xs form-group row">
				<div class="col-xs-6">
					<label class="col-xs-4 control-label">楼层：</label>
					<div class="col-xs-8">
						<select id="floor_add" class="input-xs form-control" name="floor">
							<option value="1">地上</option>
							<option value="2">地下</option>
						</select>
					</div>
				</div>
				<div class="col-xs-6">
					<label class="col-xs-4 control-label">车位类型：</label>
					<div class="col-xs-8">
						<select id="type_add" class="input-xs form-control" name="type">
							<option value="1">车位</option>
							<option value="2">车库</option>
						</select>
					</div>
				</div>
			</div>
			<div class="add_div1 col-xs-12 form-xs form-group row">
				<div class="col-xs-6">
					<label class="col-xs-4 control-label">车位号：</label>
					<div class="col-xs-8">
						<input id="parkNum_add" class="form-control input-xs" vRequired="true" name="parkNum" maxLength="20">
					</div>
				</div>
			</div>
			<div class="add_div2" hidden>
				<div class="col-xs-12" style="width:90%;left:8.3%">
					<div class="form-xs form-group row">
						<label class="col-xs-1 control-label">前缀：</label>
						<div class="col-xs-2" style="left:-0.1%">
							<input class="form-control input-xs" type="text" maxLength="5" name="prefix">
						</div>
						<label class="col-xs-2 control-label" style="left:-3%">号段区间：</label>
						<div class="col-xs-2" style="left:-3%">
							<input id="startNum" class="form-control input-xs" onkeyup="value=value.replace(/\D/g,'')" maxLength="10" name="startNum">
						</div>
						<div class="col-xs-2" style="left:-5%">
							<input id="endNum" class="form-control input-xs" onkeyup="value=value.replace(/\D/g,'')" vRequired="true" maxLength="10" name="endNum">
						</div>
						<label class="col-xs-1 control-label" style="left:-4%">后缀：</label>
						<div class="col-xs-2" style="left:-4.2%">
							<input id="suffix" class="form-control input-xs" maxLength="5" name="suffix">
						</div>
					</div>
				</div>
				<div class="col-xs-12 form-xs form-group row">
					<div class="col-xs-6">
						<label class="col-xs-4 control-label">序号补位：</label>
						<div class="col-xs-8 checkbox-inline input-xs">
							<label>
								<input id="isNumberFill" type="checkbox" class="ace searchKey">
								<span class="lbl"> 号段"0"补位</span>
							</label>
						</div>
					</div>
					<div class="col-xs-6" style="left:-22%">
						<label class="col-xs-4 control-label">忽略数字：</label>
						<div class="col-xs-8" style="width:62%">
							<input class="form-control input-xs searchKey" onkeyup="this.value=this.value.replace(/\D/g,',')" placeholder="例如：4，14" maxLength="50" name="ignore">
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>

<script type="text/javascript">

$("#carPortForm").validationEngine('attach', {
    promptPosition: 'bottomRight',
    validationEventTrigger: "blur"
});

//判断车位号唯一性
$("#parkNum_add").blur(function() {
    var parkNum = $("#parkNum_add").val(); 
    var floor = $("#floor_add").val();
    var type = $("#type_add").val();
    var premisesId = $("#premisesId").val();
    if (parkNum != "") {
        $.ajax({
            url: "${CTX}/carPort/getCarPortIs.do",
            data: {
                parkNum: parkNum,
                floor: floor,
                type: type,
                premisesId: premisesId
            },
            type: "post",
            dataType: "json",
            success: function(data) {
                if (data == 1) {
                    alert("该车位号已存在！");
                    $("#parkNum_add").val("");
                }
            }
        });
    }
});

//添加方式
$(".addWays").change(function() {
	var addWays = $(".addWays:checked").val();
    if(addWays == 1) {
        $(".add_div1").show();
        $(".add_div2").hide();
    }else{
    	$(".add_div1").hide();
        $(".add_div2").show();
    }
});

</script>