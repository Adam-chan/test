<table id="dispatchJqGrid"></table>
<div id="dispatchJqGridPager"></div>
<input type="hidden" id="custDemandId" value ="${(custDemandId)!''}" />
<script type="text/javascript">
	
	/*初始化分页页面*/
	aihome.dispatchInit = function () {
		$("#dispatchJqGrid")
				.jqGrid(
						{
							height : $(window).height() - 279,
							multiselect : true,
							multiboxonly : true,
							viewrecords : true,
							rownumbers : true,
							autowidth : true,
							autoheight : true,
							async : false,
							url : "${CTX}/customerSource/getDispatchTabPage.do",
							postData : {
								demandId : $("#custDemandId").val()
							},
							datatype : "json",
							colNames : [ '客源编号', '前归属人', '变更后归属人', '操作人', '操作时间'],
							colModel : [       
										{name : 'demandCode',sortable : false,width : 6,align : 'center'},
										{name : 'chargeBefore',sortable : false,width : 5,align : 'center'}, 
										{name : 'chargeAfter',sortable : false,width : 6,align : 'center'},
										{name : 'operateUser',sortable : false,width : 6,align : 'center'},
										{name : 'operateTimeStr',sortable : false,width : 6,align : 'center'}
										],
							rowNum : 30,
							rowList : [ 10, 20, 30, 50, 100 ],
							pager : "#dispatchJqGridPager",
							jsonReader : {
								root : 'pagerResults',
								page : 'currentPage',
								rows : 'rowCount',
								total : 'pageCount',
								records : 'totalCount',
								repeatitems : false
							}
						});
	}

	$(function() {
		aihome.dispatchInit();
	});
</script>