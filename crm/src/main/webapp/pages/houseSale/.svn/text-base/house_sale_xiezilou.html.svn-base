   <div class="col-sm-12 form-xs form-group row">
         <div class="col-xs-8">
			 <label for="addGrade" class="col-xs-3 control-label">户型：</label>
	         <div class="col-xs-1">
	            <input id="rooms" type="text" class="form-control input-xs checkNum" format="2" name ="rooms" value="${(houseSaleResult.rooms)!''}" style="width: 135%;">
	         </div>
	         <div class="col-xs-1">室</div>
	         <div class="col-xs-1" style="left: -5%;">
	            <input id="office" type="text" class="form-control input-xs checkNum" format="2" name="office" value="${(houseSaleResult.office)!''}" style="width: 150%;">
	         </div>
	         <div class="col-xs-1" style="left: -4%;">厅</div>
	         <div class="col-xs-1" style="left: -9%;">
	            <input id="kitchen" type="text" class="form-control input-xs checkNum" format="2" name="kitchen" value="${(houseSaleResult.kitchen)!''}" style="width: 150%;">
	         </div>
	         <div class="col-xs-1" style="left: -8%;">厨</div>
	         <div class="col-xs-1" style="left: -13%;">
	            <input id="wc" type="text" class="form-control input-xs checkNum" format="2" name="wc" value="${(houseSaleResult.wc)!''}" style="width: 150%;">
	         </div>
	         <div class="col-xs-1" style="left: -12%;">卫</div>
    	</div>
    </div>
    <div class="col-sm-12 form-xs form-group row">
         <label for="addGrade" class="col-xs-2 control-label">使用类别：</label>
         <div class="col-xs-2">
             <select id="form_useType" class="input-xs form-control" disabled="true">
                  <option value="1" selected="selected">住宅</option>
				  <option value="2">商铺</option>
				  <option value="3">写字楼</option>
				  <option value="4">车位</option>
              </select>
         </div>
        <label for="addGrade" class="col-xs-2 control-label">建筑面积：</label>
        <div class="col-xs-2">
			<input id="coveredArea" name="coveredArea" type="text" class="form-control input-xs"  format="8" value="${(houseSaleResult.coveredArea)!''}" 
			onkeyup="^[0-9]*[1-9][0-9]*$" onpaste="checkCovered(this);" oncut="checkCovered(this);" ondrop="checkCovered(this);" onchange="checkCovered(this);"> 
		</div> 
		<div class="col-xs-1">㎡</div>
		<label for="addGrade" class="col-xs-1 control-label">使用面积：</label>
        <div class="col-xs-1">
       	    <input id="usedArea" name="usedArea" type="text" class="form-control input-xs" format="8" value="${(houseSaleResult.usedArea)!''}" style="width: 190px;"
       	    onkeyup="^[0-9]*[1-9][0-9]*$" onpaste="checkUsed(this);" oncut="checkUsed(this);" ondrop="checkUsed(this);" onchange="checkUsed(this);"> 
		</div> 
		<div class="col-xs-1" style="left: 8%;">㎡</div>
	</div>
    
    
    <div class="col-sm-12 form-xs form-group row">
    	<label for="addGrade" class="col-xs-2 control-label">实得率：</label>
        <div class="col-xs-2">
			<input id="yield" type="text" class="form-control input-xs checkNum" name="yield" format="7.2" value="${(houseSaleResult.yield)!''}"  readonly> 
		</div> 
		<div class="col-xs-1"></div>
		<label for="addGrade" class="col-xs-1 control-label">写字楼等级：</label>
        <div class="col-xs-2">
			<select id="officeLevel" name="officeLevel" class="input-xs form-control">
				<option value="">请选择</option>
				<option value="1">甲级</option>
				<option value="2">乙级</option>
				<option value="3">丙级</option>
				<option value="4">丁级</option>
			</select>
		</div> 
		<label for="addGrade" class="col-xs-2 control-label">楼层：</label>
        <div class="col-xs-2">
			<select id="buildingFloor" name="buildingFloor" class="input-xs form-control">
				<option value="">请选择</option>
				<option value="1">低楼层</option>
				<option value="2">中楼层</option>
				<option value="3">高楼层</option>
			</select>
		</div> 
	</div>
	<div class="col-sm-12 form-xs form-group row">
		<label for="addGrade" class="col-xs-2 control-label">房屋售价：</label>
        <div class="col-xs-2">
			<input  id="sellPrice" name="sellPrice" type="text" class="form-control input-xs checkNum" format="8.2" value="${(houseSaleResult.sellPrice)!''}"> 
		</div> 
		<div class="col-xs-1">万元</div>
		<label for="addGrade" class="col-xs-1 control-label">车位售价：</label>
        <div class="col-xs-2">
			<input  id="carPortSellPrice" name="carPortSellPrice" type="text" class="form-control input-xs checkNum" format="8.2" value="${(houseSaleResult.carportSellPrice)!''}"> 
		</div> 
		<div class="col-xs-1">万元</div>
		<label for="addGrade" class="col-xs-1 control-label">底价：</label>
        <div class="col-xs-1">
			<input id="entrustPrice" name="entrustPrice" type="text" class="form-control input-xs checkNum" format="10.2" value="${(houseSaleResult.entrustPrice)!''}" style="width: 190px;"> 
		</div> 
		<div class="col-xs-1" style="left: 8%;">万元</div>
	</div>
	<div class="col-sm-12 form-xs form-group row">
		<label for="addGrade" class="col-xs-2 control-label">可容纳人数： </label>
        <div class="col-xs-2">
			<input id="containPerson" name="containPerson" type="text" class="form-control input-xs checkNum" format="8" value="${(houseSaleResult.containPerson)!''}" > 
		</div>
		<div class="col-xs-1" >人</div>
		<label for="addGrade" class="col-xs-1 control-label">使用现状：</label>
        <div class="col-xs-2">
			<select id="useStatus" name="useStatus" class="input-xs form-control" data-value="">
				<option value="">请选择</option>
				<option value="1">空置</option>
				<option value="2">出租</option>
				<option value="3">自住</option>
			</select>
		</div> 
		<label for="addGrade" class="col-xs-2 control-label">证贷情况：</label>
        <div class="col-xs-2">
			<select id="zhengdai" class="input-xs form-control" name="zhengdai">
				<option value="">请选择</option>
				<option value="1">有证无贷</option>
				<option value="2">有证有贷</option>
				<option value="3">无证有贷</option>
				<option value="4">无证无贷</option>
			</select>
		</div> 
	</div>
	
	<div class="col-sm-12 form-xs form-group row">
		<label for="addGrade" class="col-xs-2 control-label">卖房原因：</label>
        <div class="col-xs-2">
			<select id="sellReason" class="input-xs form-control" name="sellReason">
				<option value="">请选择</option>
				<option value="1">长期闲置</option>
				<option value="2">买新房</option>
				<option value="3">出国</option>
				<option value="2">新房还贷</option>
				<option value="3">其他原因</option>
			</select>
		</div>
		<label for="addGrade" class="col-xs-2 control-label">房产证号：</label>
        <div class="col-xs-2">
			<input id="fckCode" type="text" class="form-control input-xs" name="fckCode" value="${(houseSaleResult.fckCode)!''}"> 
		</div>
		<label for="addGrade" class="col-xs-2 control-label">房产证签发日期： </label>
        <div class="col-xs-2">
			<input type="text" class="5i5jdate form-control input-xs" id="fckDate" name="fckDate" value="${(houseSaleResult.fckDate)!''}"/>
		</div>
	</div>
	
	<div class="col-sm-12 form-xs form-group row">
        <label for="addGrade" class="col-xs-1 control-label"><strong>其他信息</strong></label>
	</div>
	
	<div class="col-sm-12 form-xs form-group row">
        <label for="addGrade" class="col-xs-2 control-label">业主来源渠道：</label>
        <div class="col-xs-1">
			<select id="parentSource" class="input-xs form-control" name="ownerSource">
				<option value="">请选择</option>
				<#if parentSourceList?exists>
					<#list parentSourceList as source>
						<option value="${source.id!''}">${source.source!''}</option>
					</#list>
				</#if>
				</select>
			</select>
		</div>
		<div class="col-xs-2">
			<select id="childSource" class="input-xs form-control" name="childSource">
				<option value="">请选择</option>
			</select>
		</div>
		<label for="addGrade" class="col-xs-1 control-label">房源等级：</label>
        <div class="col-xs-2">
			<select id="houseLevel" class="input-xs form-control" name="houseLevel">
				<option value="1" selected="selected">普通房源</option>
				<option value="2">诚盘</option>
				<option value="3">必卖盘</option>
			</select>
		</div>
		<label for="addGrade" class="col-xs-2 control-label">厕所：</label>
        <div class="col-xs-2">
			<select id="toilet" name="toilet" class="input-xs form-control">
				<option value="">请选择</option>
				<option value="1">公厕</option>
				<option value="2">私厕</option>
			</select>
		</div>
	</div>
	<!-- 看房方式 s -->
	<div class="col-sm-12 form-xs form-group row">
		<label class="col-xs-2 control-label">看房方式：</label>
		<#if (sysParamMap.MMKFFS)??>
			<#list sysParamMap.MMKFFS as item>  
		        <div class="col-xs-2">
					<label>
						<input type="checkbox" class="lookWay ace" value="${item.id!''}">
						<span class="lbl"> ${(item.sysHouseDescribe)!''}</span>
					</label>
				</div>
				<#if (item_index+1)%5==0>
					<label class="col-xs-2 control-label"></label>
				</#if> 
		    </#list> 
		</#if> 
	</div>
	<!-- 看房方式 e -->
	<!-- 房源描述 s -->
	<div class="col-sm-12 form-xs form-group row">
		<!-- 房源描述row1 -->
		<label for="addGrade" class="col-xs-2 control-label">房源描述：</label>
	  	<#if (sysParamMap.MMFYMS)??>
			<#list sysParamMap.MMFYMS as item>  
		        <div class="col-xs-2">
					<label>
						<input type="checkbox" class="special ace" value="${item.id!''}">
						<span class="lbl"> ${(item.sysHouseDescribe)!''}</span>
					</label>
				</div>
				<#if (item_index+1)%5==0>
					<label class="col-xs-2 control-label"></label>
				</#if> 
		    </#list>   
	    </#if>
		
	</div>
	<!-- 房源描述 e -->
	<!-- 房源标签 s -->
	<div class="col-sm-12 form-xs form-group row">
		<label for="addGrade" class="col-xs-2 control-label">房源标签：</label>
		<#if (sysParamMap.MMFYBQ)?? >
		    <#list sysParamMap.MMFYBQ as item>  
		        <div class="col-xs-2 checkbox-inline input-xs">
					<label>
						<input type="checkbox" class="tags ace" value="${item.id!''}">
						<span class="lbl">
							${item.sysHouseDescribe!''}
						</span>
					</label>
				</div>
				<#if (item_index+1)%10==0>
					<label class="col-xs-2 control-label"></label>
				</#if> 
		    </#list>  
		</#if>
	</div>
	<!-- 房源标签 e -->
	<!-- 房源状态 s -->
	<div class="col-sm-12 form-xs form-group row">
		<label for="addGrade" class="col-xs-2 control-label">房源状态：</label>
        <div class="col-xs-2">
			<select id="status" class="input-xs form-control" name="status"  disabled="true">
				<option value="1" selected="selected">待售</option>
				<option value="2">暂不售</option>
			</select>
		</div> 
	</div>
	<!-- 房源状态 e -->
	<div class="col-sm-12 form-xs form-group row">
         <label for="addGrade" class="col-xs-2 control-label">备注： </label>
         <div class="col-xs-10">
            <textarea id="remark" rows="5" cols="25" class="form-control" maxlength="300">${(houseSaleResult.remark)!''}</textarea>
         </div>
    </div>
	<!-- 隐藏域 S -->
	<input type="hidden" name="houseInfoId" value="${(houseSaleResult.houseInfoId)!''}">
	<input type="hidden" name="oldUnitPrice" value="${(houseSaleResult.unitPrice)!''}"><!-- 单价：旧 -->
	<!-- 隐藏域 E -->
	<script type="text/javascript">
    //"使用类别"默认值
	$("#form_useType").find("[value='" + ${(useType)!''} + "']").attr("selected", "selected");
    
	//计算实得率
	$("#coveredArea").blur(function(){  
		var coveredArea = $("#coveredArea").val();//建筑面积
		if(coveredArea==0){
			$("#coveredArea").val("");
			$("#yield").val("");
	    }
	});
	
	$("#usedArea").blur(function(){  
		var coveredArea = $("#coveredArea").val();//建筑面积
		var usedArea =$("#usedArea").val(); //使用面积
		if(usedArea==0){
			$("#usedArea").val("");
			$("#yield").val("");
	    }
		if(coveredArea ==""&&usedArea!=""){
			$("#yield").val("");
		}
	});
	function checkCovered(o){ 
		var theV=isNaN(parseFloat(o.value))?0:parseFloat(o.value); 
		theV=parseInt(theV*100)/100; 
		if(theV!=o.value){
			theV=(theV*100).toString(); 
			theV=theV.substring(0,theV.length-2)+"."+theV.substring(theV.length-2,theV.length) 
			o.value=theV;
		} 

		yield.value=(usedArea.value/coveredArea.value).toFixed(2); 
	} 
	function checkUsed(o){ 
		var theV=isNaN(parseFloat(o.value))?0:parseFloat(o.value); 
		theV=parseInt(theV*100)/100; 
		if(theV!=o.value){ 
			theV=(theV*100).toString(); 
			theV=theV.substring(0,theV.length-2)+"."+theV.substring(theV.length-2,theV.length) 
			o.value=theV; 
		} 
		yield.value=(usedArea.value/coveredArea.value).toFixed(2); 
	} 
	aihome.getChildrenSource = function(parentId){
		$("#childSource").empty();//每次重新选择父类时清空一下子类
		$("#childSource").append("<option value=''>请选择</option>");
		$.ajax({
			url: "${CTX}/houseManage/getSourcesByParentId.do",
			data:{
				parentId:parentId
			},
			type:"post",
			dataType:"json",
			async:false,
			success:function(data){
				var html = "";
				if(data.length>0){
					for(var i=0;i<data.length;i++){
						html += "<option value='"+data[i].id+"'>"+data[i].source+"</option>";
					}
				}
				$("#childSource").append(html);
			}
		});
	};
	$(function(){
		
		//业主来源change
		$("#parentSource").change(function(){ 
			$("#childSource").empty();//每次重新选择父类时清空一下子类
			$("#childSource").append("<option value=''>请选择</option>");
			var parentId = $("#parentSource option:selected").val();
			$.ajax({
				url: "${CTX}/houseManage/getSourcesByParentId.do",
				data:{
					parentId:parentId
				},
				type:"post",
				dataType:"json",
				success:function(data){
					var html = "";
					if(data.length>0){
						for(var i=0;i<data.length;i++){
							html += "<option value='"+data[i].id+"'>"+data[i].source+"</option>";
						}
					}
					$("#childSource").append(html);
				}
			});
		});
		
		//修改-数据初始化
		//写字楼等级
		var officeLevel ="${(houseSaleResult.officeLevel)!''}";
		if(officeLevel!=""){
			$("#officeLevel").find("[value='"+officeLevel+"']").attr("selected", "selected");
		}	
		//楼层
		var buildingFloor = "${(houseSaleResult.buildingFloor)!''}";
		if(buildingFloor!=""){
			$("#buildingFloor").find("[value='"+buildingFloor+"']").attr("selected", "selected");
		}	
		//使用现状
		var useStatus = "${(houseSaleResult.useStatus)!''}";
		if(useStatus!=""){
			$("#useStatus").find("[value='"+useStatus+"']").attr("selected", "selected");
		}
		//卖房原因
		var sellReason ="${(houseSaleResult.sellReason)!''}";
		if(sellReason!=""){
			$("#sellReason").find("[value='"+sellReason+"']").attr("selected", "selected");
		}
		//房源等级
		var houseLevel ="${(houseSaleResult.houseLevel)!''}";
		if(houseLevel!=""){
			$("#houseLevel").find("[value='"+houseLevel+"']").attr("selected", "selected");
		}
		//厕所
		var toilet ="${(houseSaleResult.toilet)!''}";
		if(toilet!=""){
			$("#toilet").find("[value='"+toilet+"']").attr("selected", "selected");
		}
		//证贷情况
		var zhengDai="${(houseSaleResult.zhengDai)!''}";
		if(zhengDai!=""){
			$("#zhengdai").find("[value='"+zhengDai+"']").attr("selected", "selected");
		}
		//业主来源
		var source1 = "${(houseSaleResult.source1)!''}";
		if(source1!=""){
			aihome.getChildrenSource(source1);
			$("#parentSource").find("[value='"+source1+"']").attr("selected", "selected");//业主来源1
			var source2 = "${(houseSaleResult.source2)!''}";//业主来源2
			if(source2!=""){
				$("#childSource").find("[value='"+source2+"']").attr("selected", "selected");
			}
		}
		//看房方式
		var lookWay = "${(houseSaleResult.lookWay)!''}";
		if(lookWay!=""){
			var lookWayArray = lookWay.split(",");
			$(lookWayArray).each(function(i){
				$("[class^='lookWay'][value='"+lookWayArray[i]+"']").prop("checked", "checked");
			});
		}
		//房源描述
		var special = "${(houseSaleResult.special)!''}";
		if(special!=""){
			var specialArray = special.split(",");
			$(specialArray).each(function(i){
				$("[class^='special'][value='"+specialArray[i]+"']").prop("checked", "checked");
			});
		}
		//房源标签
		var tags = "${(houseSaleResult.tags)!''}";
		if(tags!=""){
			var tagsArray = tags.split(",");
			$(tagsArray).each(function(i){
				$("[class^='tags'][value='"+tagsArray[i]+"']").prop("checked", "checked");
			});
		}
	});
</script>


