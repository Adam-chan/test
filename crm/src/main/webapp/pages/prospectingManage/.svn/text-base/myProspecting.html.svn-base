<div class="row">
	<div class="col-xs-12 my-group">
		<div id="myProspectList" class="form-horizontal row my-inputs">
			<div class="col-md-4 col-sm-4">
				<div class="form-xs form-group row">
					<label for="" class="col-xs-4 control-label">房源编号：</label>
					<div class="col-xs-8">
						<input id="houseNumber" class="form-control input-xs"/>
					</div>
				</div>
			</div>
			<div class="col-md-4 col-sm-4">
				<div class="form-xs form-group row">
					<label for="" class="col-xs-4 control-label">业务类型：</label>
					<div class="col-xs-8">
						<select id="businessType" class="input-xs form-control">
							<option value="">全部</option>
							<option value="1">买卖</option>
							<option value="2">租赁</option>
						</select>
					</div>
				</div>
			</div>
			<div class="col-md-4 col-sm-4">
				<div class="form-xs form-group row">
					<label for="" class="col-xs-4 control-label">使用类别：</label>
					<div class="col-xs-8">
						<select id="useType" class="input-xs form-control">
							<option value="">全部</option>
							<option value="1">住宅</option>
							<option value="2">商铺</option>
							<option value="3">写字楼</option>
							<option value="4">车位</option>
						</select>
					</div>
				</div>
			</div>
			<div class="col-md-4 col-sm-4">
				<div class="form-xs form-group row">
					<label for="" class="col-xs-4 control-label">楼盘名称：</label>
					<div class="col-xs-8">
						<input id="premisesName" class="form-control input-xs"/>
					</div>
				</div>
			</div>
			<div class="col-md-4 col-sm-4">
				<div class="form-xs form-group row">
					<label for="entryPerson" class="col-xs-4 control-label">提交时间：</label>
					<div class="col-xs-8">
						<div class=" input-daterange input-group 5i5jdate" style="">
						  <input type="text" class="form-control input-xs" id="subTimeStart" placeholder="开始时间">
						    <span class="input-group-addon addon-xs">
						      <i class="fa fa-exchange"></i>
						    </span>
						  <input type="text" class="form-control input-xs" id="subTimeEnd" placeholder="结束时间">
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-4 col-sm-4">
				<div class="form-xs form-group row">
					<label for="" class="col-xs-4 control-label">审核状态：</label>
					<div class="col-xs-8">
						<select id="reviewStatus" class="input-xs form-control">
							<option value="">全部</option>
							<option value="1">未审核</option>
							<option value="2">审核通过</option>
							<option value="3">审核不通过</option>
						</select>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xs-12  my-grid">
		    <table id="myProspecting_jqGrid"></table>
			<div id="myProspecting_jqGridPager"></div>
	    </div> 
	</div>
</div>
<script type="text/javascript">
aihome.myProspectingInitList = function(){
	$("#myProspecting_jqGrid").jqGrid({
		    height : $(window).height() - 249,
			multiselect : true,
			multiboxonly : true,
			viewrecords : true,
			rownumbers : true,
			autowidth : true,
			autoheight : true,
			async : false,
	      	url: "${CTX}/prospectingManage/manageProspectList.do?tabCode=1",
	      	datatype: "json", //,'楼盘数','操作'
	      	colNames : ['序号','房源编号','房源Id','业务类型', '使用类别','楼盘名称','具体地址','提交时间','审核状态','审核人'],
	      	postData:{
	      	},
	      	colModel: [
	      	    {  name: 'id',index:'id',sortable : false,hidden:true},
	      		{  name: 'houseCode',index:'houseCode',sortable : false, width: 80,formatter:function(rowName, options, rowObject){
	      				if(rowObject.examineStatus == 2){
	      					return rowName + "(无效)";
	      				}else{
	      					return "<a href=\"javascript:aihome.lookUpHouseSale('"+rowObject.houseInfoId+"',1,1)\"; style='text-decoration:underline;text-align:center;color:blue;margin-left: 10px'>" + rowName+ "(有效)</a>";
	      				}
					}
	     	    },
     	    	{  name: 'houseInfoId',index:'houseInfoId',sortable : false,hidden:true},
	      	    {  name: 'demandType',index:'demandType',sortable : false, width: 40,formatter:function(rowName, options, rowObject){
      	    			if(rowName == 1){
	      	    			rowName = "买卖";
	      	    			return rowName;
	      	    		}else if(rowName == 2){
	      	    			rowName = "租赁";
	      	    			return rowName;
	      	    		}
					}
	      	    },
	      	    {  name: 'useType',index:'useType',sortable : false, width: 40,formatter:function(rowName, options, rowObject){
	      	    		if(rowName == 1){
	      	    			return rowName ="住宅";
	      	    		}else if(rowName == 2){
	      	    			return rowName ="商铺";
	      	    		}else if(rowName == 3){
	      	    			return rowName ="写字楼";
	      	    		}else if(rowName == 4){
	      	    			return rowName ="车库";
	      	    		}
	      	    	}
	      	    },
	        	{  name: 'name',index:'name',sortable : false, width: 50},
	         	{  name: 'test',index:'test',sortable : false, width: 30,formatter:function(rowName, options, rowObject){
	         		var str ="";
	         		str = "<a onclick=\"\" style='text-decoration:underline;text-align:center;color:blue;margin-left: 10px'>查看地址</a>";
	         		return str;
	         		}
	        	},
	        	{  name: 'createTimeStr',index:'createTimeStr',sortable : false, width: 40},
		       	{  name: 'status',index:'status',sortable : false, width: 30,formatter:function(rowName, options, rowObject){
		       			if(rowName == 1){
		       				return rowName = "未审核";
		       			}else if(rowName == 2){
		       				return rowName = "合格";
		       			}else if(rowName == 3){
		       				return rowName = "不合格";
		       			}
		       		}
	        	},
		       	{  name: 'examineUser',index:'examineUser',sortable : false, width: 100}
	      	],
	      	onSelectRow: function (rowId, status, e){},
	      rowNum:30, 
	      rowList:[10,20,30,50,100],
	      pager: "#myProspecting_jqGridPager",
	      /* 在数据初始化前进行数据编辑 */
	  	   jsonReader: { root:'pagerResults', page:'currentPage',rows:'rowCount',total:'pageCount',records:'totalCount',repeatitems: false}
	  	});
}

aihome.lookUpHouseSale = function(houseId,type,num){
	oaDialogOpen("lookUpHouse",//对话框ID，必填，且不能与当前页面的ID重复
		 {url:"${CTX}/houseManage/lookUpDetail.do?houseInfoId="+houseId+"&type="+type+"&num="+num,
		      title:"查看详细信息",//弹框的title
		      closeOnEscpe:true,//是否通过escpe关闭弹框
		      closeBtn:true,//是否显示关闭按钮
		      width: $(window).width()*0.8,//弹框的宽度
			  height: $(window).height()*0.9,
		  })
}
$(function(){
	aihome.myProspectingInitList();
	$('.5i5jdate').datepicker({
	    todayBtn: "linked",//今天按钮
	    clearBtn: true,//清空按钮
	    language: "zh-CN",//语言
	    autoclose: true,//自动关闭
	    todayHighlight: true,//今天高亮
	    format: "yyyy-mm-dd",//日期格式，可以不写，直接使用默认的
	});
})
</script>