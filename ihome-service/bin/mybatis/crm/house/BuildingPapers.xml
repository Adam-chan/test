<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="buildingPapers">
  <!-- 限时速递证件表查询字段  -->
  <sql id="Base_Column_List">
    ID as id, CREDENTIALS_TYPE as credentialsType, CREDENTIALS_NUM as credentialsNum, COUNT as count, TIME_LIMIT_ID as timeLimitId
  </sql>
  <!-- 根据条件获取实时速递表数据 -->
  <select id="getBuildingPapers" parameterType="map" resultType="buildingPapersModel">
    select 
    <include refid="Base_Column_List" />
    from BUILDING_PAPERS
    <where>
		<if test="buildingPapersId != null and buildingPapersId !=''">
		 ID = #{buildingPapersId,jdbcType=DECIMAL}
		</if>    
		<if test="timeLimitId != null and timeLimitId !='' ">
		 TIME_LIMIT_ID = #{timeLimitId,jdbcType=DECIMAL}
		</if>    
    </where>
  </select>
  <!-- 根据id删除限时速递证件数据 -->
  <delete id="deleteByPrimaryKey" parameterType="map">
    delete from BUILDING_PAPERS
    where ID = #{id,jdbcType=DECIMAL}
  </delete>
  <!-- 根据id插入限时速递证件数据 -->
  <insert id="insert" parameterType="map">
    insert into BUILDING_PAPERS (ID, CREDENTIALS_TYPE, CREDENTIALS_NUM, 
      COUNT, TIME_LIMIT_ID)
    values (BUILDING_PAPERS_SEQ.NEXTVAL, #{credentialsType,jdbcType=DECIMAL}, #{credentialsNum,jdbcType=VARCHAR}, 
      #{count,jdbcType=DECIMAL}, #{timeLimitId,jdbcType=DECIMAL})
  </insert>
  <!-- 根据id有选择插入限时速递证件数据 -->
  <insert id="insertSelective" parameterType="map">
    insert into BUILDING_PAPERS
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        ID,
      </if>
      <if test="credentialsType != null">
        CREDENTIALS_TYPE,
      </if>
      <if test="credentialsNum != null">
        CREDENTIALS_NUM,
      </if>
      <if test="count != null">
        COUNT,
      </if>
      <if test="timeLimitId != null">
        TIME_LIMIT_ID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
      BUILDING_PAPERS_SEQ.NEXTVAL
      </if>
      <if test="credentialsType != null">
        #{credentialsType,jdbcType=DECIMAL},
      </if>
      <if test="credentialsNum != null">
        #{credentialsNum,jdbcType=VARCHAR},
      </if>
      <if test="count != null">
        #{count,jdbcType=DECIMAL},
      </if>
      <if test="timeLimitId != null">
        #{timeLimitId,jdbcType=DECIMAL},
      </if>
    </trim>
  </insert>
  <!-- 根据id有选择更新限时速递证件数据-->
  <update id="updateByPrimaryKeySelective" parameterType="map">
    update BUILDING_PAPERS
    <set>
      <if test="credentialsType != null">
        CREDENTIALS_TYPE = #{credentialsType,jdbcType=DECIMAL},
      </if>
      <if test=" != null">
        CREDENTIALS_NUM = #{credentialsNum,jdbcType=VARCHAR},
      </if>
      <if test="count != null">
        COUNT = #{count,jdbcType=DECIMAL},
      </if>
      <if test="timeLimitId != null">
        TIME_LIMIT_ID = #{timeLimitId,jdbcType=DECIMAL},
      </if>
    </set>
    where ID = #{id,jdbcType=DECIMAL}
  </update>
  <!-- 根据id更新限时速递证件数据-->
  <update id="updateByPrimaryKey" parameterType="map">
    update BUILDING_PAPERS
    set CREDENTIALS_TYPE = #{credentialsType,jdbcType=DECIMAL},
      CREDENTIALS_NUM = #{credentialsNum,jdbcType=VARCHAR},
      COUNT = #{count,jdbcType=DECIMAL},
      TIME_LIMIT_ID = #{timeLimitId,jdbcType=DECIMAL}
    where ID = #{id,jdbcType=DECIMAL}
  </update>
  <!-- 批量插入数据 -->
  <insert id="insertBatch" parameterType="map" useGeneratedKeys="false">  
		insert into BUILDING_PAPERS(id,TIME_LIMIT_ID,CREDENTIALS_NUM,CREDENTIALS_TYPE) 
	 	select BUILDING_PAPERS_SEQ.NEXTVAL,#{timeLimitId},a.* from (
	 <foreach collection="list" item="item" index="index" separator="UNION ALL" >
	 	SELECT 
	      #{item.credentialsNum},
	      #{item.credentialsType}
	     FROM DUAL
	 </foreach>)a
 </insert>
</mapper>